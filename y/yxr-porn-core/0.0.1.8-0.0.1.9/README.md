# Comparing `tmp/yxr_porn_core-0.0.1.8.tar.gz` & `tmp/yxr_porn_core-0.0.1.9.tar.gz`

## Comparing `yxr_porn_core-0.0.1.8.tar` & `yxr_porn_core-0.0.1.9.tar`

### file list

```diff
@@ -1,25 +1,27 @@
--rw-r--r--   0        0        0      129 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/__about__.py
--rw-r--r--   0        0        0      105 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/__init__.py
--rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/py.typed
--rw-r--r--   0        0        0      339 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/avsox/README.md
--rw-r--r--   0        0        0      225 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/avsox/__init__.py
--rw-r--r--   0        0        0     1703 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/avsox/parse_item.py
--rw-r--r--   0        0        0      854 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/avsox/parse_search.py
--rw-r--r--   0        0        0      444 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/avsox/parse_sites.py
--rw-r--r--   0        0        0      172 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javbus/__init__.py
--rw-r--r--   0        0        0     2123 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javbus/parse_detail.py
--rw-r--r--   0        0        0      879 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javbus/parse_list.py
--rw-r--r--   0        0        0      156 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javday/__init__.py
--rw-r--r--   0        0        0     1284 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javday/parse_item.py
--rw-r--r--   0        0        0      991 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javday/parse_search.py
--rw-r--r--   0        0        0      154 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javdb/__init__.py
--rw-r--r--   0        0        0     2836 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javdb/parse_item.py
--rw-r--r--   0        0        0     1044 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javdb/parse_search.py
--rw-r--r--   0        0        0       82 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javmenu/__init__.py
--rw-r--r--   0        0        0     1780 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/src/yxr_porn_core/javmenu/parse_code.py
--rw-r--r--   0        0        0     3087 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/.gitignore
--rw-r--r--   0        0        0     1070 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/LICENSE
--rw-r--r--   0        0        0      228 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/README.md
--rw-r--r--   0        0        0     1238 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/hatch.toml
--rw-r--r--   0        0        0     2513 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/pyproject.toml
--rw-r--r--   0        0        0     1263 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.8/PKG-INFO
+-rw-r--r--   0        0        0      129 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/__about__.py
+-rw-r--r--   0        0        0      105 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/__init__.py
+-rw-r--r--   0        0        0        0 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/py.typed
+-rw-r--r--   0        0        0      339 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/avsox/README.md
+-rw-r--r--   0        0        0      225 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/avsox/__init__.py
+-rw-r--r--   0        0        0     1697 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/avsox/parse_item.py
+-rw-r--r--   0        0        0      854 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/avsox/parse_search.py
+-rw-r--r--   0        0        0      444 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/avsox/parse_sites.py
+-rw-r--r--   0        0        0      172 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javbus/__init__.py
+-rw-r--r--   0        0        0     2123 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javbus/parse_detail.py
+-rw-r--r--   0        0        0      879 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javbus/parse_list.py
+-rw-r--r--   0        0        0      156 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javday/__init__.py
+-rw-r--r--   0        0        0     1278 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javday/parse_item.py
+-rw-r--r--   0        0        0      991 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javday/parse_search.py
+-rw-r--r--   0        0        0      154 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javdb/__init__.py
+-rw-r--r--   0        0        0     3272 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javdb/parse_item.py
+-rw-r--r--   0        0        0     1044 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javdb/parse_search.py
+-rw-r--r--   0        0        0       82 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javmenu/__init__.py
+-rw-r--r--   0        0        0     1774 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/javmenu/parse_code.py
+-rw-r--r--   0        0        0       85 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/msin/__init__.py
+-rw-r--r--   0        0        0     2009 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/src/yxr_porn_core/msin/parse_search.py
+-rw-r--r--   0        0        0     3087 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/.gitignore
+-rw-r--r--   0        0        0     1070 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/LICENSE
+-rw-r--r--   0        0        0      228 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/README.md
+-rw-r--r--   0        0        0     1238 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/hatch.toml
+-rw-r--r--   0        0        0     2513 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/pyproject.toml
+-rw-r--r--   0        0        0     1263 2020-02-02 00:00:00.000000 yxr_porn_core-0.0.1.9/PKG-INFO
```

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/avsox/parse_item.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/avsox/parse_item.py`

 * *Files 5% similar despite different names*

```diff
@@ -11,15 +11,15 @@
     length: str  # min
     date_str: str  # yyyy-mm-dd
 
 
 # https://javmenu.com/zh/FC2-1851398
 def parse_item(html: str) -> ParseItemResult:
     # soup = BeautifulSoup(html, "lxml")
-    htmltree = etree.fromstring(html, etree.HTMLParser())
+    htmltree = etree.HTML(html, etree.HTMLParser())
 
     expr_number = '//span[contains(text(),"识别码:")]/../span[2]/text()'
     # expr_actor = '//a[@class="avatar-box"]'
     # expr_actorphoto = '//a[@class="avatar-box"]'
     expr_title = "/html/body/div[2]/h3/text()"
     # expr_studio = '//p[contains(text(),"制作商: ")]/following-sibling::p[1]/a/text()'
     expr_release = '//span[contains(text(),"发行时间:")]/../text()'
```

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/avsox/parse_search.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/avsox/parse_search.py`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/javbus/parse_detail.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/javbus/parse_detail.py`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/javbus/parse_list.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/javbus/parse_list.py`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/javday/parse_item.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/javday/parse_item.py`

 * *Files 8% similar despite different names*

```diff
@@ -19,15 +19,15 @@
     # date_str: str  # yyyy-mm-dd
     studio: str
 
 
 # https://javmenu.com/zh/FC2-1851398
 def parse_item(html: str) -> ParseItemResult:
     # soup = BeautifulSoup(html, "lxml")
-    htmltree = etree.fromstring(html, etree.HTMLParser())
+    htmltree = etree.HTML(html, etree.HTMLParser())
 
     # expr_url = '/html/head/meta[@property="og:url"]/@content'
     expr_cover = '/html/head/meta[@property="og:image"]/@content'
     # expr_tags = '/html/head/meta[@name="keywords"]/@content'
     expr_title = "/html/head/title/text()"
     expr_actor = "//span[@class='vod_actor']/a/text()"
     expr_studio = '//span[@class="producer"]/a/text()'
```

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/javday/parse_search.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/javday/parse_search.py`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/javdb/parse_item.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/javdb/parse_item.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,14 +1,16 @@
 import logging
 from dataclasses import dataclass
 from typing import List
 
 import bs4
 from bs4 import BeautifulSoup
 
+logger = logging.getLogger("yxr-porn-core.javbus")
+
 
 @dataclass
 class AItem:
     text: str
     url: str
 
 
@@ -17,16 +19,17 @@
     title: str
     cover_url: str
     release_date: str  # yyyy-mm-dd
     product_id: str
     length: str  # 时长
     studio: str  # 片商
     publish: str  # 发行
-    # 系列
-    # 评分
+    director: str  # 导演
+    series: str  # 系列
+    score: str  # 评分
     tags: List[AItem]
     actress: List[AItem]  # 女演员
     actors: List[AItem]  # 男演员
     # gallery
 
 
 # https://javdb.com/v/Yn1GOB
@@ -47,14 +50,17 @@
         title=title,
         cover_url=cover_url,
         product_id=product_id,
         release_date="",
         length="",
         studio="",
         publish="",
+        director="",
+        series="",
+        score="",
         tags=[],
         actress=[],
         actors=[],
     )
     for panel in panel_blocks:
         strong: bs4.Tag = panel.find("strong")
         if strong is None:  # 底部的 xxx人想看, xxx人看过
@@ -80,11 +86,17 @@
                     ret.actors.append(AItem(text=a_s[i].text, url=a_s[i]["href"]))
         elif label.startswith("時長:"):
             ret.length = value_span.text.strip()
         elif label.startswith("片商:"):
             ret.studio = value_span.text.strip()
         elif label.startswith("發行:"):
             ret.publish = value_span.text.strip()
+        elif label.startswith("導演:"):
+            ret.director = value_span.text.strip()
+        elif label.startswith("系列:"):
+            ret.series = value_span.text.strip()
+        elif label.startswith("評分:"):
+            ret.score = value_span.text.strip()
         else:
-            logging.warning(f"yxr-porn-core.javdb.parse_item unhandle label [{label}]")
+            logger.warning(f"yxr-porn-core.javdb.parse_item unhandle label [{label}]")
 
     return ret
```

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/javdb/parse_search.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/javdb/parse_search.py`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/src/yxr_porn_core/javmenu/parse_code.py` & `yxr_porn_core-0.0.1.9/src/yxr_porn_core/javmenu/parse_code.py`

 * *Files 4% similar despite different names*

```diff
@@ -14,15 +14,15 @@
     date_str: str  # yyyy-mm-dd
     tags: List[str]
 
 
 # https://javmenu.com/zh/FC2-1851398
 def parse_code(html: str) -> ParseCodeResult:
     BeautifulSoup(html, "lxml")
-    htmltree = etree.fromstring(html, etree.HTMLParser())
+    htmltree = etree.HTML(html, etree.HTMLParser())
 
     expr_title = '/html/head/meta[@property="og:title"]/@content'
     expr_cover = '/html/head/meta[@property="og:image"]/@content'
     expr_number = 'string(//span[contains(text(),"番号")]/..)'
     expr_runtime = '//span[contains(text(),"时长")]/../span[2]/text()'
     expr_release = '//span[contains(text(),"日期")]/../span[2]/text()'
     # expr_studio = '//span[contains(text(),"製作")]/../span[2]/a/text()'
```

### Comparing `yxr_porn_core-0.0.1.8/.gitignore` & `yxr_porn_core-0.0.1.9/.gitignore`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/LICENSE` & `yxr_porn_core-0.0.1.9/LICENSE`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/hatch.toml` & `yxr_porn_core-0.0.1.9/hatch.toml`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/pyproject.toml` & `yxr_porn_core-0.0.1.9/pyproject.toml`

 * *Files identical despite different names*

### Comparing `yxr_porn_core-0.0.1.8/PKG-INFO` & `yxr_porn_core-0.0.1.9/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: yxr-porn-core
-Version: 0.0.1.8
+Version: 0.0.1.9
 Summary: python3.8+ library for crawling porn sites
 Project-URL: Documentation, https://github.com/CroMarmot/yxr-porn-core#readme
 Project-URL: Issues, https://github.com/CroMarmot/yxr-porn-core/issues
 Project-URL: Source, https://github.com/CroMarmot/yxr-porn-core
 Author-email: cromarmot <yexiaorain@gmail.com>
 License-Expression: MIT
 License-File: LICENSE
```

